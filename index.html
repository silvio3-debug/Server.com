<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Special Question</title>
  <style>
    /* (All your original styles remain unchanged) */
    body { margin: 0; background-color: pink; height: 100vh; overflow: hidden; font-family: 'Times New Roman', serif; position: relative; }
    #questionBox { position: absolute; background: white; padding: 20px; border-radius: 12px; box-shadow: 0 4px 12px rgba(0,0,0,0.2); text-align: center; max-width: 300px; transition: opacity 0.4s ease; z-index: 5; }
    #bigMessage { /* ... */ }
    button { /* ... */ }
    .yesBtn { background-color: #4CAF50; color: white; }
    .noBtn { background-color: #f44336; color: white; }
    .falling { /* ... */ }
    @keyframes fallDown { /* ... */ }
    #cornerText { /* ... */ }
    @keyframes goldShine { /* ... */ }
    .ring-wrapper { /* ... */ }
    .sparkle { /* ... */ }
    @keyframes sparkleMove { /* ... */ }
    #weddingScene { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background-size: cover; background-position: center; z-index: 1; }
  </style>
</head>
<body>

  <div id="questionBox">
    <p id="questionText">Do you want to be my girlfriend?</p>
    <button class="yesBtn" onclick="handleYes()">Yes</button>
    <button class="noBtn" onclick="handleNo()">No</button>
  </div>

  <div id="bigMessage">You made me the happiest man in life ‚ù§Ô∏è</div>

  <div id="cornerText">
    Made by Silvio for his little princess 
    <span class="ring-wrapper">üíç<span class="sparkle">‚ú®</span></span>
  </div>

  <div id="weddingScene"></div>

  <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
  <script>
    /* (Your exact script logic remains unchanged) */
    const questions = [/* ... */];
    const sadMessages = [/* ... long list ... */];
    let currentQuestion = 0, heartRainInterval, noClickCount = 0;
    const questionBox = document.getElementById("questionBox");
    const questionText = document.getElementById("questionText");
    const bigMessage = document.getElementById("bigMessage");
    const weddingScene = document.getElementById("weddingScene");

    function handleYes() {
      currentQuestion++;
      if (currentQuestion < questions.length) {
        questionText.textContent = questions[currentQuestion];
      } else {
        questionBox.style.display = "none";
        showWeddingScene();
      }
    }

    function handleNo() {
      noClickCount++;
      const randomSad = sadMessages[Math.floor(Math.random() * sadMessages.length)];
      startHeartRain();
      questionBox.style.opacity = 0;
      setTimeout(() => {
        questionText.style.color = "deeppink";
        questionText.textContent = randomSad;
        questionBox.style.opacity = 1;
        setTimeout(() => {
          questionBox.style.opacity = 0;
          setTimeout(() => {
            stopHeartRain();
            questionText.style.color = "black";
            questionText.textContent = questions[currentQuestion];
            moveQuestionBox();
            questionBox.style.opacity = 1;
          }, 400);
        }, 1000);
      }, 400);
    }

    function moveQuestionBox() {
      const maxX = window.innerWidth - questionBox.offsetWidth;
      const maxY = window.innerHeight - questionBox.offsetHeight;
      questionBox.style.left = `${Math.random()*maxX}px`;
      questionBox.style.top = `${Math.random()*maxY}px`;
    }

    function startHeartRain() {
      const speed = Math.max(50, 150 - noClickCount * 10);
      heartRainInterval = setInterval(() => {
        const heart = document.createElement("div");
        heart.className = "falling";
        heart.textContent = "üíó";
        heart.style.left = `${Math.random()*window.innerWidth}px`;
        heart.style.fontSize = `${Math.random()*20+20}px`;
        document.body.appendChild(heart);
        setTimeout(() => heart.remove(), 4000);
      }, speed);
    }

    function stopHeartRain() { clearInterval(heartRainInterval); }

    function showWeddingScene() {
      const w64 = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAWgAAAFoCAYAAADRLL+MAA..."; // Full Base64 omitted for brevity
      weddingScene.style.backgroundImage = `url('${w64}')`;
      weddingScene.style.display = "block";
      bigMessage.style.display = "block";
      bigMessage.textContent = "You made me the happiest man in life ‚ù§Ô∏èüíç";
      launchCelebration();
    }

    function launchCelebration() {
      setInterval(() => {
        const heart = document.createElement("div");
        heart.className = "falling";
        heart.textContent = ["‚ù§Ô∏è","üíñ","üíï","üíò","üíì"][Math.floor(Math.random()*5)];
        heart.style.left = `${Math.random()*window.innerWidth}px`;
        heart.style.fontSize = `${Math.random()*20+20}px`;
        document.body.appendChild(heart);
        setTimeout(() => heart.remove(), 4000);
      }, 150);

      const kittenB64 = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyC..."; // existing pixel kitten
      setInterval(() => {
        const kitten = document.createElement("img");
        kitten.src = kittenB64;
        kitten.className = "falling";
        kitten.style.left = `${Math.random()*window.innerWidth}px`;
        kitten.style.width = "50px";
        kitten.style.height = "50px";
        kitten.style.imageRendering = "pixelated";
        kitten.style.borderRadius = "8px";
        document.body.appendChild(kitten);
        setTimeout(() => kitten.remove(), 5000);
      }, 400);

      const duration = 5000, end = Date.now() + duration;
      (function frame() {
        confetti({ particleCount: 5, angle: 60, spread: 55, origin: { x: 0 } });
        confetti({ particleCount: 5, angle: 120, spread: 55, origin: { x: 1 } });
        if (Date.now() < end) requestAnimationFrame(frame);
      })();
    }

    questionBox.style.left = `${(window.innerWidth - questionBox.offsetWidth)/2}px`;
    questionBox.style.top = `${(window.innerHeight - questionBox.offsetHeight)/2}px`;

    const sparkle = document.querySelector(".sparkle");
    setInterval(() => {
      sparkle.style.animation = "none";
      sparkle.offsetHeight;
      sparkle.style.animation = "sparkleMove 1s linear forwards";
    }, 3000);
  </script>

</body>
</html>
